{"version":3,"sources":["components/_firebase.js","routes/Loading.js","components/Card.js","components/store.js","routes/Home.js","routes/Auth.js","components/Header.js","components/Footer.js","components/NumberSlide.js","components/AddSleepData.js","components/Popup.js","components/SleepCard.js","routes/Record.js","components/ColorSample.js","components/Pallet.js","routes/Setting.js","App.js","index.js"],"names":["initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","provider","GoogleAuthProvider","auth","getAuth","db","getFirestore","FB_AUTH","signOut","isPop","signInWithPopup","signInWithRedirect","callbackFun","onAuthStateChanged","FB_DB","get","name","a","res","getDocs","collection","forEach","v","push","id","data","add","obj","callback","addDoc","then","delete","deleteDoc","doc","update","updateDoc","alert","Loading","Card","children","title","className","slice","createSlice","initialState","user","sleepData","colorSet","mainColor","subColor","theme","fontColor","reducers","setUser","state","action","payload","setSleep","soltTmp","sort","b","date","setColorSet","removeSleep","filter","addSleep","ACTION","actions","configureStore","reducer","connect","props","dispatch","connectSleepDB","getSleepTime","time1","time2","str","h1","substr","m1","h2","m2","diffH","diffM","sleepDataFor","map","rating","sleepStart","sleepTimeStr","sleepEnd","sleepTime","findBestTime","time","length","score","start","times","i","bestTime","bestTimeAt","height","style","bottom","left","Auth","setIsDemo","useState","animStart","setAnimStart","useEffect","setTimeout","onClick","isLogedIn","isDemo","setDemo","displayName","Footer","to","NumberSlide","val","min","max","setter","onClickBtn","e","value","target","attributes","curr","addZero","num","editId","sleepObj","_sleepData","callbaclFn","isNew","_today","Date","startH1","setStartH1","startH2","setStartH2","startM1","setStartM1","startM2","setStartM2","startHMax","setStartHMax","startMMax","setStartMMax","endH1","setEndH1","endH2","setEndH2","endM1","setEndM1","endM2","setEndM2","endHMax","setEndHMax","endMMax","setEndMMax","getFullYear","getMonth","getDate","setDate","step","setStep","setSleepData","timeSet","flag","frontN","backNSetter","maxSetter","startT","endT","prev","document","querySelectorAll","el","classList","remove","querySelector","marginLeft","onBtnClick","innerText","window","confirm","uid","onClickRating","Popup","isOpend","clossBtnClick","show","setShow","showAnim","setShowAnim","Rating","addBtnClick","editBtnClick","isDeleted","setIsDeleted","emoji","getEmozi","console","log","isAddPopOpend","setIsAddPopOpend","isEditPopOpend","setIsEditPopOpend","setEditId","onEditBtnClick","onCloseBtnClick","category","no","Pallet","noSet","updateColorSet","saveTheme","main","sub","font","connectThemeDB","setIsLogedIn","isLoading","setIsLoading","getElementById","themeColor","connectData","email","themeData","path","element","ReactDOM","render","store"],"mappings":"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","file":"static/js/main.b1924257.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getAuth, GoogleAuthProvider, signOut, signInWithRedirect, signInWithPopup ,onAuthStateChanged} from \"firebase/auth\";\r\nimport { getFirestore,getDocs,collection,addDoc,deleteDoc ,doc,updateDoc} from \"firebase/firestore\"\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDbUluFwoJWUYGUysFeUy4Vr0zHYDSNFU0\",\r\n  authDomain: \"good-sleep-a2c34.firebaseapp.com\",\r\n  projectId: \"good-sleep-a2c34\",\r\n  storageBucket: \"good-sleep-a2c34.appspot.com\",\r\n  messagingSenderId: \"955570029105\",\r\n  appId: \"1:955570029105:web:a1ed5ab2685746c74e0b10\",\r\n  measurementId: \"G-6RBM2RW3BN\"\r\n};\r\n\r\ninitializeApp(firebaseConfig);\r\nexport const provider = new GoogleAuthProvider();\r\nexport const auth = getAuth();\r\nexport const db = getFirestore();\r\n\r\nexport const FB_AUTH = {\r\n  signOut: () => {\r\n    signOut(auth)\r\n  },\r\n  signInWithGoogle: (isPop = false) => {\r\n    isPop ? signInWithPopup(auth, provider) : signInWithRedirect(auth, provider);\r\n  },\r\n  authChange:(callbackFun)=>{\r\n    onAuthStateChanged(auth, typeof callbackFun === 'function' ? callbackFun:null);\r\n  }\r\n}\r\n\r\nexport const FB_DB = {\r\n  get: async (name)=>{\r\n    let res = [];\r\n    const data = await getDocs(collection(db, name));\r\n    data.forEach(v=>res.push({id:v.id,...v.data()}))\r\n    return res;\r\n  },\r\n  add:(name,obj,callback)=>{\r\n    addDoc(collection(db,name),obj).then((res)=>{\r\n      if(typeof callback === 'function')\r\n      callback(res.id);\r\n    });\r\n  },\r\n  delete:(name,id)=>{\r\n    deleteDoc(doc(db,name,id));\r\n  },\r\n  update:(name,id,data,callback)=>{\r\n    updateDoc(doc(db, name, id),data).then(()=>{\r\n      alert('수정이 완료되었습니다.')\r\n      if(typeof callback === 'function')\r\n      callback();\r\n    });\r\n  }\r\n}","const Loading = () =>{\r\n    return(<div>Loading...</div>)\r\n}\r\n\r\nexport default Loading;","import '../css/card.css'\r\n\r\nconst Card = ({ children, title }) => {\r\n    return <>\r\n        <div className='card-wrap theme-color'>\r\n            <div className='card-wrap-header sub-color font-color'>{title}</div>\r\n            {children}\r\n        </div>\r\n    </>\r\n}\r\n\r\nexport default Card","import { configureStore, createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst slice = createSlice({\r\n    name: 'useReducer',\r\n    initialState: {\r\n        user: {},\r\n        sleepData: [],\r\n        colorSet: {\r\n            mainColor: '01',\r\n            subColor: '01',\r\n            theme: '01',\r\n            fontColor: '01',\r\n        }\r\n    },\r\n    reducers: {\r\n        setUser: (state, action) => { state.user = action.payload },\r\n        setSleep: (state, action) => { \r\n            let soltTmp = [...action.payload]\r\n            soltTmp.sort((a,b)=>b.date -a.date)\r\n\r\n            state.sleepData = soltTmp\r\n        },\r\n        setColorSet: (state, action) => { state.colorSet = action.payload },\r\n        removeSleep: (state, action) => {\r\n            state.sleepData = state.sleepData.filter(data => data.id !== action.payload)\r\n        },\r\n        addSleep:(state, action)=>{\r\n            state.sleepData = [action.payload,...state.sleepData];\r\n        }\r\n    }\r\n})\r\n\r\nexport const ACTION = slice.actions;\r\nexport default configureStore({ reducer: slice.reducer })","import { connect } from \"react-redux\";\r\nimport Card from \"../components/Card\";\r\nimport { ACTION } from \"../components/store\";\r\nimport '../css/home.css'\r\n\r\nconst Home = ({ user, sleepData = [], connectSleepDB }) => {\r\n    function getSleepTime(time1, time2, str = false) {\r\n        const h1 = time1.substr(0, 2) * 1;\r\n        const m1 = time1.substr(2, 2) * 1;\r\n        const h2 = time2.substr(0, 2) * 1;\r\n        const m2 = time2.substr(2, 2) * 1;\r\n\r\n        let diffH = h1 > h2 ? 24 + h2 - h1 : h2 - h1;\r\n        let diffM = m2 - m1;\r\n\r\n        if (diffM < 0) {\r\n            diffM += 60;\r\n            diffH--;\r\n        }\r\n\r\n        return str ? (diffH + 'H ' + diffM + 'M') : diffH * 60 + diffM\r\n    }\r\n\r\n    //sleep for 를 추천하기위한 배열\r\n    const sleepDataFor = sleepData.map(v => {\r\n        return {\r\n            rating: v.rating,\r\n            sleepStart: v.sleepStart,\r\n            sleepTimeStr: getSleepTime(v.sleepStart, v.sleepEnd, true),\r\n            sleepTime: getSleepTime(v.sleepStart, v.sleepEnd)\r\n        }\r\n    })\r\n\r\n    //bestTime 을 찾음\r\n    let findBestTime = [];\r\n    sleepDataFor.forEach(v => {\r\n        if (findBestTime.filter(time => time.time === v.sleepTimeStr).length === 0) {\r\n            findBestTime.push({ \r\n                time: v.sleepTimeStr, \r\n                score: 0, \r\n                start: v.sleepStart.substr(0,2) + ':' +v.sleepStart.substr(2,2)\r\n            })\r\n        }\r\n\r\n        findBestTime.forEach((times, i) => {\r\n            if (times.time === v.sleepTimeStr) findBestTime[i].score += (v.rating - 3) * 1;\r\n        })\r\n    })\r\n\r\n    findBestTime.sort((a, b) => b.score - a.score)\r\n\r\n    const bestTime = findBestTime.length > 0 ? findBestTime[0].time : '';\r\n    const bestTimeAt = findBestTime.length > 0 ? findBestTime[0].start : '';\r\n\r\n    return (<div className='home-wrap'>\r\n        <div className='home-wrap-full'>\r\n            <Card title={'time line'}>\r\n                <div className='home-graph-wrap'>\r\n                    {sleepData.map(v => {\r\n                        const height = (getSleepTime(v.sleepStart, v.sleepEnd) - 120) / 5;\r\n                        return <span className='home-graph-data' key={v.id}>\r\n                            <span className={'home-graph-bar home-graph-rating' + v.rating + ' home-graph-sleeptime sub-color'}\r\n                                style={{ height: height > 80 ? 80 : height + 'px' }}>\r\n                            </span>\r\n                            <span className='home-graph-date'>{`${v.date.substr(2, 2)}/${v.date.substr(4, 2)}/${v.date.substr(6, 2)}`}</span>\r\n                        </span>\r\n                    })}\r\n                </div>\r\n            </Card>\r\n        </div>\r\n\r\n        <div className='home-wrap-half'>\r\n            <Card title={'sleep for'}>\r\n                <div className='home-for-you-wrap'>\r\n                    <span className='home-for-you-hour main-color'>{bestTime}</span>\r\n                    {/* <span className='home-for-you-base'>123일간의 데이터를 기반으로 추천</span> */}\r\n                </div>\r\n            </Card>\r\n            <Card title={'sleep at'}>\r\n                <div className='home-at-you-wrap'>\r\n                    <span className='home-at-you-hour main-color'>{bestTimeAt}</span>\r\n                    {/* <span className='home-for-you-base'>123일간의 데이터를 기반으로 추천</span> */}\r\n                </div>\r\n            </Card>\r\n        </div>\r\n\r\n\r\n        <div className='home-wrap-full'>\r\n            <Card title={'score board'}>\r\n                <div className='home-score-wrap'>\r\n                    <div className='home-score-box'>\r\n                        <span className='home-score-horizontal-wrap sub-color'>\r\n                            <span className='home-score-horizontal-line'></span>\r\n                            <span className='home-score-horizontal-line'></span>\r\n                            <span className='home-score-horizontal-line'></span>\r\n                            <span className='home-score-horizontal-line'></span>\r\n                            <span className='home-score-horizontal-line'></span>\r\n                        </span>\r\n                        <span className='home-score-vertical-wrap sub-color'>\r\n                            <span className='home-score-vertical-line'></span>\r\n                            <span className='home-score-vertical-line'></span>\r\n                            <span className='home-score-vertical-line'></span>\r\n                            <span className='home-score-vertical-line'></span>\r\n                            <span className='home-score-vertical-line'></span>\r\n                            <span className='home-score-vertical-line'></span>\r\n                            <span className='home-score-vertical-line'></span>\r\n                            <span className='home-score-vertical-line'></span>\r\n                        </span>\r\n                        <span className='home-srore-time-tx'>time</span>\r\n                        <span className='home-srore-rating-tx'>rating</span>\r\n                        {sleepData.map(v => {\r\n                            const bottom = v.rating * 30 - 5;\r\n                            const left = (getSleepTime(v.sleepStart, v.sleepEnd) - 120) * 2 / 3 - 3\r\n\r\n                            return left > 320 ? '' : <span className='home-score-dot main-color'\r\n                                style={{ bottom, left }} key={v.id}\r\n                            ></span>\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </Card>\r\n        </div>\r\n\r\n        <div className='home-wrap-full'>\r\n            <Card title={'tips'}>\r\n                <div className='home-tips'>\r\n                    알고 계셨나요? 우리의 수면은 처음 90분이 가장 중요하다는 사실<br />\r\n                    잠에들고 처음으로 맞이하는 깊은수면의 질에 따라 나머지 수면의 질도 변한다고 합니다.\r\n                </div>\r\n            </Card>\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nfunction mapStatetoProps(state, props) {\r\n    const { user, sleepData } = state;\r\n    return { user, sleepData }\r\n}\r\n\r\nfunction mapDispatchProps(dispatch) {\r\n    return {\r\n        connectSleepDB: (user) => dispatch(ACTION.setSleep(user)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps, mapDispatchProps)(Home);","import { useEffect, useState } from 'react'\r\nimport { FB_AUTH } from '../components/_firebase'\r\nimport '../css/auth.css'\r\n\r\nconst Auth = ({ setIsDemo }) => {\r\n    const [animStart,setAnimStart] = useState(false)\r\n\r\n    useEffect(()=>{\r\n        setTimeout(() => {\r\n            setAnimStart(true)\r\n        }, 100);\r\n    },[])\r\n    \r\n    const onClickSignInPopBtn = () => {\r\n        FB_AUTH.signInWithGoogle(false);\r\n        setIsDemo(false);\r\n    }\r\n    \r\n    const onClickShowDemoBtn = () => {\r\n        setIsDemo(true);\r\n    }\r\n\r\n    return (<div className={`auth__wrap ${animStart ? 'auth__start' : ''}`}>\r\n        <span className='auth__background'></span>\r\n        <span className='auth__logo'>Good Sleep</span>\r\n        <div className='auth__btn_wrap'>\r\n            <button className='auth__btn' onClick={onClickSignInPopBtn}>sign In<br />With Google</button>\r\n            <button className='auth__btn' onClick={onClickShowDemoBtn}>show demo</button>\r\n        </div>\r\n    </div>)\r\n}\r\nexport default (Auth);","import { connect } from 'react-redux'\r\nimport { FB_AUTH } from './_firebase'\r\nimport '../css/header.css'\r\n\r\nconst Header = ({user,isLogedIn,isDemo,setDemo}) => {\r\n    function onClickSignBtn(){\r\n        if(isDemo){\r\n            setDemo(false)\r\n        }else{\r\n            FB_AUTH.signOut()\r\n        }\r\n            \r\n    }\r\n\r\n    return (<div className='header-wrap main-color'>\r\n        {!isLogedIn ? <></> : <button onClick={onClickSignBtn} className='header-signout font-icon'>logout</button>}\r\n        <span className='header-nickname'>{user ? user.displayName:''} 의 수면생활</span>\r\n    </div>)\r\n}\r\n\r\nfunction mapStateToProps(state,props){\r\n    const {user} = state;\r\n    return({user})\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","import { Link } from 'react-router-dom';\r\nimport '../css/footer.css'\r\n\r\nfunction Footer(){\r\n    return <div className='footer-wrap'>\r\n        <Link to='good_sleep/record'>\r\n            <button className='footer-btn sub-color font-color font-icon'>description</button>\r\n        </Link>\r\n        <Link to='good_sleep'>\r\n            <button className='footer-btn sub-color font-color font-icon'>home</button>\r\n        </Link>\r\n        <Link to='good_sleep/setting'>\r\n            <button className='footer-btn sub-color font-color font-icon'>settings</button>\r\n        </Link>\r\n    </div>\r\n}\r\n\r\nexport default Footer;","// import { useState } from 'react';\r\nimport '../css/numberslide.css'\r\n\r\n\r\nconst NumberSlide = ({val =0, min =0 ,max =9, setter = () => { }}) => {\r\n    const onClickBtn = (e) => {\r\n        const { target: { attributes: { add: { value } } } } = e;\r\n        setter(curr => {\r\n            const res = curr * 1 + value * 1;\r\n            if (res > max) {return min*1 }\r\n            else if (res < min) {return max*1 }\r\n            else{return res}\r\n        })\r\n    }\r\n\r\n    return <span className='numberslide-wrap'>\r\n        <span className='numberslide-up-btn font-icon main-color' add='1' onClick={onClickBtn}>arrow_drop_up</span>\r\n        <span className='numberslide-number-box'>\r\n            <span className='numberslide-disply'>\r\n                <span className='numberslide-prev-num main-color'>{val - 1}</span>\r\n                <span className='numberslide-cur-num main-color'>{val}</span>\r\n                <span className='numberslide-next-num main-color'>{val + 1}</span>\r\n            </span>\r\n        </span>\r\n        <span className='numberslide-down-btn font-icon main-color' add='-1' onClick={onClickBtn}>arrow_drop_down</span>\r\n    </span>\r\n}\r\n\r\nexport default NumberSlide;","import { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport '../css/addsleepdata.css'\r\nimport NumberSlide from './NumberSlide';\r\nimport { ACTION } from './store';\r\nimport { FB_DB } from './_firebase';\r\n\r\nconst AddSleepData = ({ addSleep, user, callbaclFn, isNew, editId, sleepObj, setSleep, _sleepData }) => {\r\n    const _today = new Date();\r\n    const [startH1, setStartH1] = useState(2);\r\n    const [startH2, setStartH2] = useState(3);\r\n    const [startM1, setStartM1] = useState(3);\r\n    const [startM2, setStartM2] = useState(0);\r\n    const [startHMax, setStartHMax] = useState(9)\r\n    const [startMMax, setStartMMax] = useState(9)\r\n\r\n    const [endH1, setEndH1] = useState(0);\r\n    const [endH2, setEndH2] = useState(7);\r\n    const [endM1, setEndM1] = useState(3);\r\n    const [endM2, setEndM2] = useState(0);\r\n    const [endHMax, setEndHMax] = useState(9)\r\n    const [endMMax, setEndMMax] = useState(9)\r\n\r\n    const [date, setDate] = useState(_today.getFullYear() + '' + addZero(_today.getMonth() + 1) + '' + addZero(_today.getDate()));\r\n    const [step, setStep] = useState(0)\r\n    const [sleepData, setSleepData] = useState({ rating: '3' })\r\n\r\n    useEffect(() => {\r\n        timeSet({ flag: \"H\", frontN: startH1, backNSetter: setStartH2, maxSetter: setStartHMax })\r\n        timeSet({ flag: \"M\", frontN: startM1, backNSetter: setStartM2, maxSetter: setStartMMax })\r\n        timeSet({ flag: \"H\", frontN: endH1, backNSetter: setEndH2, maxSetter: setEndHMax })\r\n        timeSet({ flag: \"M\", frontN: endM1, backNSetter: setEndM2, maxSetter: setEndMMax })\r\n\r\n    }, [startH1, startH2, startM1, startM2, endH1, endH2, endM1, endM2])\r\n\r\n    function timeSet({ flag, frontN, backNSetter, maxSetter }) {\r\n        if (flag === 'H') {\r\n            maxSetter(frontN === 2 ? 4 : 9);\r\n            backNSetter(curr => (frontN === 2) && (curr > 4) ? 4 : curr);\r\n        } else if (flag === 'M') {\r\n            maxSetter(frontN === 6 ? 0 : 9);\r\n            backNSetter(curr => (frontN === 6) ? 0 : curr);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    //수정할 데이터가 변경시 초기값 세팅\r\n    useEffect(() => {\r\n        if (sleepObj) {\r\n            const startT = sleepObj.sleepStart;\r\n            const endT = sleepObj.sleepEnd;\r\n            setStartH1(startT.substr(0, 1));\r\n            setStartH2(startT.substr(1, 1));\r\n            setStartM1(startT.substr(2, 1));\r\n            setStartM2(startT.substr(3, 1));\r\n            setEndH1(endT.substr(0, 1));\r\n            setEndH2(endT.substr(1, 1));\r\n            setEndM1(endT.substr(2, 1));\r\n            setEndM2(endT.substr(3, 1));\r\n            setDate(sleepObj.date);\r\n            setSleepData(prev => { return { ...prev, rating: sleepObj.rating } })\r\n            setStep(0)\r\n            document.querySelectorAll('.add-data-step1-score').forEach(el => {\r\n                el.classList.remove('add-data-step1-selected', 'main-color')\r\n                if (el.attributes.rating.value === sleepObj.rating) {\r\n                    el.classList.add('add-data-step1-selected', 'main-color')\r\n                }\r\n            })\r\n        }\r\n    }, [sleepObj])\r\n\r\n    // step이 바뀔때마다 초기값 세팅\r\n    useEffect(() => {\r\n        const contentEl = isNew ?\r\n            document.querySelector('.add-data-new .add-data-contents') :\r\n            document.querySelector('.add-data-edit .add-data-contents')\r\n        contentEl.style.marginLeft = -250 * step + 'px'\r\n        setSleepData(prev => {\r\n            return {\r\n                ...prev,\r\n                sleepStart: (startH1 + '' + startH2 + '' + startM1 + '' + startM2),\r\n                sleepEnd: (endH1 + '' + endH2 + '' + endM1 + '' + endM2),\r\n                date: date\r\n            }\r\n        })\r\n    }, [step, isNew])\r\n\r\n    // 이전,다음 버튼 누를 때마다 세팅\r\n    const onBtnClick = e => {\r\n        const direction = e.target.innerText;\r\n        if (direction === 'prev') {\r\n            if (step > 0)\r\n                setStep(step - 1)\r\n        } else {\r\n            if (step < 3)\r\n                setStep(step + 1)\r\n            else {\r\n                if (isNew) {\r\n                    // if(_sleepData.filter(v=>v.date === sleepData.date).length != 0){\r\n                    //     window.alert('해당 날자에 이미 데이터가 존재합니다.')\r\n                    // }\r\n                    // else \r\n                    if (window.confirm('추가 하시겠습니까?')) {\r\n                        FB_DB.add(\"sleep\", {\r\n                            ...sleepData,\r\n                            uid: user.uid\r\n                        }, (id) => {\r\n                            addSleep({\r\n                                ...sleepData,\r\n                                uid: user.uid,\r\n                                id: id\r\n                            })\r\n                        });\r\n                        callbaclFn();\r\n                        setStep(0)\r\n                        setSleepData({\r\n                            date: _today.getFullYear() + '' + (_today.getMonth() + 1) + '' + _today.getDate(),\r\n                            sleepStart: '1203am',\r\n                            sleepEnd: \"0701am\",\r\n                            rating: '3',\r\n                        })\r\n                    }\r\n                } else {\r\n                    if (window.confirm('수정 하시겠습니까?')) {\r\n                        FB_DB.update(\"sleep\", sleepObj.id, {\r\n                            ...sleepData,\r\n                            uid: user.uid\r\n                        }, () => {\r\n                            setSleep(_sleepData.map(v => {\r\n                                return v.id === editId ? { ...sleepData, id: editId } : v;\r\n                            }))\r\n                        })\r\n                        callbaclFn();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const onClickRating = (e) => {\r\n        document.querySelectorAll('.add-data-step1-score').forEach(el => {\r\n            el.classList.remove('add-data-step1-selected', 'main-color')\r\n        })\r\n        e.target.classList.add('add-data-step1-selected', 'main-color')\r\n        setSleepData({ ...sleepData, rating: e.target.attributes.rating.value })\r\n    }\r\n\r\n    return <div className={'add-data-wrap ' + (isNew ? 'add-data-new' : 'add-data-edit')}>\r\n        <div className='add-data-contents font-color'>\r\n            <div className='add-data-step1'>\r\n                <div className='add-data-step-text main-color'>잘 주무셨나요? <br />일어났을 때 기분을 선택해주세요</div>\r\n                <div className='add-data-step1-scores'>\r\n                    <span className='add-data-step1-score font-icon' onClick={onClickRating} rating='1'>sick</span>\r\n                    <span className='add-data-step1-score font-icon' onClick={onClickRating} rating='2'>mood_bad</span>\r\n                    <span className='add-data-step1-score font-icon add-data-step1-selected main-color' onClick={onClickRating} rating='3'>sentiment_satisfied</span>\r\n                    <span className='add-data-step1-score font-icon' onClick={onClickRating} rating='4'>mood</span>\r\n                    <span className='add-data-step1-score font-icon' onClick={onClickRating} rating='5'>emoji_emotions</span>\r\n                </div>\r\n            </div>\r\n            <div className='add-data-step2'>\r\n                <div className='add-data-step-text main-color'>몇시에 주무셨나요? <br />주무신 시간을 알려주세요</div>\r\n                <div className='add-data-step2-time'><span></span>\r\n                    <NumberSlide val={startH1} setter={setStartH1} max='2' />\r\n                    <NumberSlide val={startH2} setter={setStartH2} max={startHMax} />\r\n                    <NumberSlide val={startM1} setter={setStartM1} max='6' />\r\n                    <NumberSlide val={startM2} setter={setStartM2} max={startMMax} />\r\n                </div>\r\n            </div>\r\n            <div className='add-data-step3'>\r\n                <div className='add-data-step-text main-color'>몇시에 일어나셨나요? <br />일어난 시간을 알려주세요</div>\r\n                <div className='add-data-step3-time'><span></span>\r\n                    <NumberSlide val={endH1} setter={setEndH1} max='2' />\r\n                    <NumberSlide val={endH2} setter={setEndH2} max={endHMax} />\r\n                    <NumberSlide val={endM1} setter={setEndM1} max='6' />\r\n                    <NumberSlide val={endM2} setter={setEndM2} max={endMMax} />\r\n                </div>\r\n            </div>\r\n            {/* <div className='add-data-step4'>\r\n                <div className='add-data-step-text main-color'>오늘이 맞나요?? <br />마지막으로 날짜를 확인해주세요</div>\r\n                <div className='add-data-step4-date'>\r\n                    <span className='add-data-step4-year main-color' >{_today.getFullYear() + '-' + addZero(_today.getMonth() + 1) + '-' + addZero(_today.getDate())}</span>\r\n                </div>\r\n            </div> */}\r\n            <div className='add-data-step5'>\r\n                <div className='add-data-step-text main-color'>{isNew ? '등록' : '수정'}을 완료하시려면 <br />done 버튼을 클릭해주세요</div>\r\n            </div>\r\n        </div>\r\n        <div className='add-data-btn-wrap'>\r\n            <button className='add-data-btn sub-color font-color' onClick={onBtnClick}>prev</button>\r\n            <button className={'add-data-btn font-color ' + (step === 3 ? 'main-color' : 'sub-color')} onClick={onBtnClick}>{step === 3 ? 'done' : 'next'}</button>\r\n        </div>\r\n    </div>\r\n}\r\n\r\n// const useInput = initialValue => {\r\n//     const [value, setValue] = useState(initialValue);\r\n//     const onChange = e => {\r\n//         const { target: { value } } = e;\r\n//         const { target: { attributes: { datatype } } } = e;\r\n\r\n//         if (datatype.value === 'hour' || datatype.value === 'minute') {\r\n//             if (isNaN(value * 1)) return;\r\n//             if (value.length > 2) return;\r\n//             if ((datatype.value === 'hour' && value * 1 > 24) || (datatype.value === 'minute' && value * 1 > 60)) return;\r\n//             setValue(value)\r\n//         }\r\n//         if (datatype.value === 'year') {\r\n//             const year = value.substr(0, 4) * 1;\r\n//             const month = value.substr(5, 2) * 1;\r\n//             const date = value.substr(8,) * 1;\r\n//             if (year !== new Date().getFullYear() * 1) return;\r\n//             if (month !== (new Date().getMonth() + 1) * 1) return;\r\n\r\n//             function dateCheck(date) {\r\n//                 if ([1, 3, 5, 7, 8, 10, 12].indexOf(month) !== -1 && date < 32) return true;\r\n//                 if ([4, 6, 9, 11].indexOf(month) !== -1 && date < 31) return true;\r\n//                 if (month === 2 && date < 29) return true;\r\n//                 return false;\r\n//             }\r\n//             if (value.length > 7 && dateCheck(date)) setValue(value)\r\n//         }\r\n//     }\r\n//     return { onChange, value, setValue }\r\n// }\r\n\r\nconst addZero = num => (num < 10 && num * 1 !== 0) ? '0' + num : num\r\n\r\nfunction mapStateToProps(state, props) {\r\n    const { editId } = props\r\n    const { user, sleepData } = state;\r\n    const sleepObj = sleepData.filter(v => v.id === editId)[0]\r\n    const _sleepData = sleepData;\r\n    return { user, sleepObj, _sleepData }\r\n}\r\n\r\nfunction mapDispatchProps(dispatch) {\r\n    return {\r\n        addSleep: (id) => dispatch(ACTION.addSleep(id)),\r\n        setSleep: (id) => dispatch(ACTION.setSleep(id)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(AddSleepData);","import { useEffect, useState } from 'react';\r\nimport '../css/popup.css'\r\nimport Card from \"../components/Card\";\r\n\r\nconst Popup = ({ isOpend, clossBtnClick, title, children }) => {\r\n    const [show, setShow] = useState(false)\r\n    const [showAnim, setShowAnim] = useState(false)\r\n    useEffect(() => {\r\n        setShow(isOpend)\r\n        setTimeout(() => {\r\n            setShowAnim(isOpend)\r\n        }, 50);\r\n    }, [isOpend])\r\n\r\n    const ClosingPop = () => {\r\n        setShow(false)\r\n        clossBtnClick()\r\n    }\r\n\r\n    return <div className={`${(show ? '' : 'popup-closed ') + (showAnim ? 'popup-anim' : '')}`}>\r\n        <div className='popup-wrap'>\r\n            <Card title={title}>\r\n                <div className='popup-contents'>\r\n                    {children}\r\n                </div>\r\n            </Card>\r\n        </div>\r\n        <div className='popup-background' onClick={ClosingPop}></div>\r\n    </div>\r\n}\r\n\r\nexport default Popup;","import { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport '../css/sleepcard.css'\r\nimport { ACTION } from \"./store\";\r\nimport { FB_DB } from \"./_firebase\";\r\n\r\nfunction SleepCard({ sleepData, id, removeSleep, addSleep,user,addBtnClick ,editBtnClick}) {\r\n    const [isDeleted, setIsDeleted] = useState(false);\r\n    const sleepObj = sleepData.filter(data => data.id === id)[0]\r\n    const date = `${sleepObj.date.substr(0, 4)}/${sleepObj.date.substr(4, 2)}/${sleepObj.date.substr(6, 2)}`\r\n    const emoji = getEmozi(sleepObj.rating);\r\n    const sleepTime = getSleepTime(sleepObj.sleepStart,sleepObj.sleepEnd)\r\n    function getEmozi(rating){\r\n        switch(rating){\r\n            case '1' : return 'sick';\r\n            case '2' : return 'mood_bad';\r\n            case '3' : return 'sentiment_satisfied';\r\n            case '4' : return 'mood';\r\n            case '5' : return 'emoji_emotions';\r\n            default :return;\r\n        }\r\n    }\r\n\r\n    function getSleepTime(time1,time2){\r\n        const h1 = time1.substr(0,2)*1;\r\n        const m1 = time1.substr(2,2)*1;\r\n        const h2 = time2.substr(0,2)*1;\r\n        const m2 = time2.substr(2,2)*1;\r\n\r\n       let diffH = h1> h2 ? 24+h2-h1 : h2-h1;\r\n       let diffM = m2-m1;\r\n\r\n       if(diffM <0){\r\n            diffM += 60;\r\n           diffH--;\r\n       }\r\n\r\n       return diffH +'시간 '+diffM+'분'\r\n    }\r\n\r\n    function deleteBtnClick() {\r\n        if (window.confirm('정말 삭제하시겠습니까?')) {\r\n            console.log(sleepObj.id)\r\n            FB_DB.delete('sleep', sleepObj.id)\r\n            setIsDeleted(true)\r\n            setTimeout(() => {\r\n                removeSleep(sleepObj.id);\r\n            }, 500);\r\n        }\r\n    }\r\n\r\n    function onEditBtnClick(){\r\n        editBtnClick(id);\r\n    }\r\n\r\n    function onAddBtnClick() {\r\n        addBtnClick()\r\n    }\r\n\r\n    return <div className={'sub-color sleepcard-wrap ' + (isDeleted ? 'deleted' : '')}>\r\n        {id !== 'new' ? <div className='sleepcard-old-wrap'>\r\n            <div className='sleepcard-header sub-color font-color '>\r\n                <span className='sleepcard-date'>{date}</span>\r\n            </div>\r\n            <div className='sleepcard-body theme-color'>\r\n                <span className='sleepcard-data'>\r\n                    <span className='sleepcard-emoji font-icon  main-color'>{emoji}</span>\r\n                    <span className='sleepcard-tx main-color'>{sleepTime}</span>\r\n                </span>\r\n                <span className='sleepcard-icon font-icon main-color' onClick={onEditBtnClick}>edit</span>\r\n                <span className='sleepcard-icon font-icon main-color' onClick={deleteBtnClick}>delete_forever</span>\r\n            </div>\r\n        </div>\r\n            : <>\r\n                <div className='sleepcard-new-wrap sub-color font-color '>\r\n                    <span className='sleepcard-plus-btn' onClick={onAddBtnClick}>add</span>\r\n                </div>\r\n            </>\r\n        }\r\n\r\n    </div>\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n    const { sleepData,user } = state;\r\n    return {\r\n        sleepData: [\r\n            ...sleepData,\r\n            {\r\n                Rating: \"\",\r\n                date: \"\",\r\n                id: \"new\",\r\n                sleepEnd: \"\",\r\n                sleepStart: \"\",\r\n                uid: \"\",\r\n            }\r\n        ],\r\n        user\r\n    }\r\n}\r\n\r\nfunction mapDispatchProps(dispatch) {\r\n    return {\r\n        removeSleep: (id) => dispatch(ACTION.removeSleep(id)),\r\n        addSleep: (id) => dispatch(ACTION.addSleep(id)),\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchProps)(SleepCard);","import {useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport AddSleepData from \"../components/AddSleepData\";\r\nimport Popup from \"../components/Popup\";\r\nimport SleepCard from \"../components/SleepCard\";\r\nimport '../css/record.css'\r\n\r\nconst Record = ({ sleepData }) => {\r\n    const [isAddPopOpend, setIsAddPopOpend] = useState(false)\r\n    const [isEditPopOpend, setIsEditPopOpend] = useState(false)\r\n    const [editId, setEditId] = useState('')\r\n\r\n    const onAddBtnClick = () => {\r\n        setIsAddPopOpend(true)\r\n    }\r\n    const onEditBtnClick = (id) => {\r\n        setEditId(id)\r\n        setIsEditPopOpend(true)\r\n    }\r\n    const onCloseBtnClick = () => {\r\n        setIsAddPopOpend(false)\r\n        setIsEditPopOpend(false)\r\n    }\r\n\r\n    return <div className='record-wrap'>\r\n        <SleepCard id={'new'} addBtnClick={onAddBtnClick} />\r\n        {sleepData.map((data, i) => <SleepCard id={data.id} key={data.id} editBtnClick={onEditBtnClick} />)}\r\n        <Popup\r\n            isOpend={isAddPopOpend}\r\n            clossBtnClick={onCloseBtnClick}\r\n            title={'Add new sleep data'}>\r\n            <AddSleepData callbaclFn={onCloseBtnClick} isNew={true} />\r\n        </Popup>\r\n        <Popup\r\n            isOpend={isEditPopOpend}\r\n            clossBtnClick={onCloseBtnClick}\r\n            title={'Edit sleep data'}>\r\n            <AddSleepData callbaclFn={onCloseBtnClick} isNew={false} editId={editId} />\r\n        </Popup>\r\n    </div>\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    const { sleepData } = state;\r\n    let sortedSleepData = [...sleepData];\r\n    // if(sortedSleepData){\r\n    //     sortedSleepData.sort((a,b)=>b.date - a.date)\r\n    // }\r\n    return { sleepData:sortedSleepData }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Record);","import { connect } from \"react-redux\";\r\nimport { ACTION } from \"./store\";\r\n\r\nconst ColorSample = ({no,category,colorSet,setColorSet}) =>{\r\n    function onClick(){\r\n        console.log(colorSet)\r\n        setColorSet(colorSet)\r\n    }\r\n\r\n    return <span onClick={onClick} className={`color-sample color-${category}-${no}`}></span>\r\n}\r\n\r\nfunction mapStatetoProps(state,props){\r\n    let colorSet = {...state.colorSet};\r\n    const {category,no} = props;\r\n    colorSet[category+'Color'] = no;\r\n    return {\r\n        colorSet\r\n    }\r\n}\r\n\r\nfunction mapDispatchProps(dispatch) {\r\n    return {\r\n        setColorSet: (theme) => dispatch(ACTION.setColorSet(theme)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps,mapDispatchProps)(ColorSample);","import ColorSample from \"./ColorSample\";\r\n\r\nconst Pallet = ({noSet,category}) =>{\r\n    return <div className='pallet-wrap'>\r\n        {\r\n            noSet.map(no=>{\r\n                return <ColorSample category={category} no={no} key={no}/>\r\n            })\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Pallet;","import { connect } from 'react-redux'\r\nimport Pallet from '../components/Pallet'\r\nimport { FB_DB } from '../components/_firebase'\r\nimport '../css/setting.css'\r\nimport Card from '../components/Card'\r\n\r\nconst Setting = ({ updateColorSet, colorSet }) => {\r\n    const saveSetting = () => {\r\n        saveTheme()\r\n    }\r\n\r\n    const saveTheme = () => {\r\n        updateColorSet('colorSet', colorSet.id, colorSet)\r\n    }\r\n\r\n    const noSet = {\r\n        main: ['00','01', '02', '03', '04',\r\n            '05', '06', '07', '08'],\r\n        sub: ['00','01', '02', '03', '04',\r\n            '05', '06', '07', '08'],\r\n        theme: ['01', '02', '03', '04'],\r\n        font: ['01', '02', '03', '04']\r\n    }\r\n\r\n    return <div className='setting-wrap'>\r\n        <Card title={'Color'}>\r\n            <div className='setting-pallet-category'>main</div>\r\n            <Pallet category={'main'} noSet={noSet.main}></Pallet>\r\n            <div className='setting-pallet-category'>sub</div>\r\n            <Pallet category={'sub'} noSet={noSet.sub}></Pallet>\r\n            <div className='setting-pallet-category'>theme</div>\r\n            <Pallet category={'theme'} noSet={noSet.theme}></Pallet>\r\n            <div className='setting-pallet-category'>font</div>\r\n            <Pallet category={'font'} noSet={noSet.font}></Pallet>\r\n        </Card>\r\n        <button onClick={saveSetting} className='setting-save-btn main-color font-color'>save</button>\r\n    </div>\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    const { colorSet } = state;\r\n    return { colorSet }\r\n}\r\n\r\nfunction mapDispatchProps() {\r\n    return { updateColorSet: (name, id, data) => { FB_DB.update(name, id, data) } }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(Setting);","// import provider from './components/_firebase'\nimport { FB_AUTH, FB_DB } from './components/_firebase'\nimport { useEffect, useState } from \"react\";\nimport Loading from './routes/Loading';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport Home from './routes/Home';\nimport Auth from './routes/Auth';\nimport { connect } from 'react-redux';\nimport { ACTION } from './components/store';\nimport './css/common.css'\nimport './css/color.css'\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Record from './routes/Record'\nimport Setting from './routes/Setting';\nimport { configureStore } from '@reduxjs/toolkit';\n\nfunction colorSetRest() {\n  ['01', '02', '03', '04', '05', '06', '07', '08'].forEach(no => {\n    document.getElementById('root').classList.remove('color-main-' + no)\n    document.getElementById('root').classList.remove('color-sub-' + no)\n    document.getElementById('root').classList.remove('color-font-' + no)\n    document.getElementById('root').classList.remove('color-theme-' + no)\n  })\n}\n\nfunction App({ setUser, connectSleepDB, connectThemeDB, colorSet }) {\n  const [isLogedIn, setIsLogedIn] = useState(false); // 로그인중인지\n  const [isLoading, setIsLoading] = useState(true); // 로딩중인지\n  const [isDemo, setIsDemo] = useState(false);\n\n  colorSetRest();\n  document.getElementById('root').classList.add(`color-main-${colorSet.mainColor}`)\n  document.getElementById('root').classList.add(`color-sub-${colorSet.subColor}`)\n  document.getElementById('root').classList.add(`color-font-${colorSet.fontColor}`)\n  document.getElementById('root').classList.add(`color-theme-${colorSet.themeColor}`)\n\n  //app 시작시 초기 세팅\n  useEffect(() => {\n    //로그인시 user정보 세팅\n    FB_AUTH.authChange(user => {\n      //user정보가 있을때\n      if (user) {\n        connectData(user)\n      } else if (isDemo) {\n        connectData()\n      }\n      //user정보가 없을 때\n      else { setIsLogedIn(false); setIsLoading(false); }\n    })\n  }, [connectSleepDB, setUser, connectThemeDB, isDemo])\n\n  const connectData = (user = {}) => {\n    setIsLogedIn(true);\n    const { displayName, uid, email } = user;\n\n    if (isDemo) {\n      setUser({ displayName: 'Demo', uid: 'VoblfBUl7kbD32O4xD0nvWaqZDa2', email })\n      user.uid = 'VoblfBUl7kbD32O4xD0nvWaqZDa2'\n    } else {\n      setUser({ displayName, uid, email })\n    }\n\n    //sleep data DB에 연결\n    FB_DB.get('sleep').then(res => {\n      connectSleepDB(res.filter(data => data.uid === user.uid))\n      setIsLoading(false);\n    })\n\n    //theme data DB에 연결\n    FB_DB.get('colorSet').then(res => {\n      const themeData = res.filter(data => data.uid === user.uid);\n      if (themeData.length === 0) {\n        FB_DB.add(\"colorSet\", {\n          mainColor: '01',\n          subColor: '01',\n          fontColor: '01',\n          themeColor: '01',\n          uid: user.uid\n        });\n      } else {\n        connectThemeDB(themeData[0])\n      }\n    })\n  }\n\n  return (\n    isLoading ?\n      <Loading /> :\n      isLogedIn ?\n        <BrowserRouter>\n          <Header isLogedIn={isLogedIn} isDemo={isDemo} setDemo={setIsDemo} />\n          <Routes>\n            <Route path='good_sleep/*' element={<Home />}></Route>\n            <Route path='good_sleep/record' element={<Record />}></Route>\n            <Route path='good_sleep/setting' element={<Setting />}></Route>\n          </Routes>\n          <Footer />\n        </BrowserRouter>\n        :\n        <Auth setIsDemo={setIsDemo} />\n  );\n}\n\nfunction mapDispatchProps(dispatch) {\n  return {\n    setUser: (user) => dispatch(ACTION.setUser(user)),\n    connectSleepDB: (user) => dispatch(ACTION.setSleep(user)),\n    connectThemeDB: (user) => dispatch(ACTION.setColorSet(user)),\n  }\n}\n\nfunction mapStateToProps(state) {\n  const { colorSet } = state;\n  return { colorSet }\n}\n\nexport default connect(mapStateToProps, mapDispatchProps)(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from 'react-redux'\nimport store from './components/store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}